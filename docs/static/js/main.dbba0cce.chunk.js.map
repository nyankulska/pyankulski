{"version":3,"sources":["avatar.jpg","utilities/vCardGenerator.js","components/UserProfile/UserProfile.jsx","views/App.js","index.js"],"names":["module","exports","downloadVCard","username","userInfo","imageData","userVCardInfo","vCard","vCardsJS","firstName","givenName","lastName","surname","email","workPhone","mobilePhone","base64Start","indexOf","photo","embedFromString","substring","url","facebook","workAddress","city","countryRegion","country","getFormattedString","generateVCard","downloadEl","document","createElement","file","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","removeChild","useStyles","makeStyles","theme","paper","color","palette","primary","main","photoContainer","textAlign","padding","paddingTop","userPhoto","maxHeight","borderRadius","nameContainer","marginBottom","leftIcon","marginRight","spacing","UserProfile","classes","useState","photoBase64","setPhotoBase64","displayName","useEffect","a","fetch","then","response","blob","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","downloadAndConvertImg","Fragment","Fade","in","Paper","className","src","alt","Typography","variant","component","style","fontWeight","ButtonGroup","fullWidth","Button","size","Link","onClick","target","Container","List","ListItem","button","ListItemIcon","ListItemText","secondary","Divider","overflowWrap","createMuiTheme","typography","fontFamily","root","marginTop","UserVCard","maxWidth","ThemeProvider","App","CssBaseline","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dbba0cce.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/avatar.53c3cd6b.jpg\";","import vCardsJS from \"vcards-js\";\r\n\r\nexport const generateVCard = (userInfo, imageData) => {\r\n  let vCard = vCardsJS();\r\n  vCard.firstName = userInfo.givenName;\r\n  vCard.lastName = userInfo.surname;\r\n  vCard.email = userInfo.email;\r\n  vCard.workPhone = userInfo.mobilePhone;\r\n\r\n  let base64Start = imageData.indexOf(\"9j\");\r\n  vCard.photo.embedFromString(\r\n    imageData.substring(base64Start - 1),\r\n    \"image/jpeg\"\r\n  );\r\n\r\n  vCard.url = userInfo.facebook;\r\n\r\n  vCard.workAddress.city = userInfo.city;\r\n  vCard.workAddress.countryRegion = userInfo.country;\r\n\r\n  return vCard.getFormattedString();\r\n};\r\n\r\nexport const downloadVCard = (username, userInfo, imageData) => {\r\n  let userVCardInfo = generateVCard(userInfo, imageData);\r\n  const downloadEl = document.createElement(\"a\");\r\n  const file = new Blob([userVCardInfo], { type: \"text/vcard\" });\r\n  downloadEl.href = URL.createObjectURL(file);\r\n  downloadEl.download = `${username}.vcf`;\r\n  document.body.appendChild(downloadEl);\r\n  downloadEl.click();\r\n  document.body.removeChild(downloadEl);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { downloadVCard } from \"utilities/vCardGenerator\";\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from \"@material-ui/core/ButtonGroup\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nimport PhoneIcon from \"@material-ui/icons/Phone\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\n\r\nimport userPhoto from \"avatar.jpg\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  photoContainer: {\r\n    textAlign: \"center\",\r\n    padding: \"1em\",\r\n    paddingTop: \"3em\"\r\n  },\r\n  userPhoto: {\r\n    maxHeight: \"300px\",\r\n    borderRadius: \"50%\"\r\n  },\r\n  nameContainer: {\r\n    textAlign: \"center\",\r\n    marginBottom: \"1.8em\"\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nexport default function UserProfile() {\r\n  const classes = useStyles();\r\n  const [photoBase64, setPhotoBase64] = useState(\"\");\r\n\r\n  const userInfo = {\r\n    username: \"pavlin.yankulski\",\r\n    givenName: \"Pavlin\",\r\n    surname: \"Yankulski\",\r\n    displayName: \"Павлин Янкулски\",\r\n    mobilePhone: \"+359 886 889 490\",\r\n    email: \"pavlin.yank@gmail.com\",\r\n    facebook: \"https://www.facebook.com/100014466793457\",\r\n    city: \"Благоевград\",\r\n    country: \"България\"\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function downloadAndConvertImg() {\r\n      return await fetch(userPhoto)\r\n        .then(response => response.blob())\r\n        .then(\r\n          blob =>\r\n            new Promise((resolve, reject) => {\r\n              const reader = new FileReader();\r\n              reader.onloadend = () => resolve(reader.result);\r\n              reader.onerror = reject;\r\n              reader.readAsDataURL(blob);\r\n            })\r\n        )\r\n        .then(imageData => setPhotoBase64(imageData));\r\n    }\r\n    downloadAndConvertImg();\r\n  }, [photoBase64]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Fade in={true}>\r\n        <Paper className={classes.paper}>\r\n          <div>\r\n            <div className={classes.photoContainer}>\r\n              <img\r\n                className={classes.userPhoto}\r\n                src={userPhoto}\r\n                alt={userInfo.displayName}\r\n              />\r\n            </div>\r\n\r\n            <div className={classes.nameContainer}>\r\n              <Typography\r\n                variant=\"h3\"\r\n                component=\"h1\"\r\n                style={{ fontWeight: 900 }}\r\n              >\r\n                {userInfo.displayName}\r\n              </Typography>\r\n            </div>\r\n\r\n            <div>\r\n              <ButtonGroup fullWidth color=\"primary\">\r\n                <Button\r\n                  size=\"large\"\r\n                  component={Link}\r\n                  href={`tel:${userInfo.mobilePhone}`}\r\n                >\r\n                  <PhoneIcon className={classes.leftIcon} />\r\n                  Звънни\r\n                </Button>\r\n                <Button\r\n                  size=\"large\"\r\n                  component={Link}\r\n                  href={`mailto:${userInfo.email}`}\r\n                >\r\n                  <EmailIcon className={classes.leftIcon} />\r\n                  Имейл\r\n                </Button>\r\n                <Button\r\n                  size=\"large\"\r\n                  component={Link}\r\n                  onClick={() =>\r\n                    downloadVCard(userInfo.username, userInfo, photoBase64)\r\n                  }\r\n                  target=\"_blank\"\r\n                >\r\n                  <PersonAddIcon className={classes.leftIcon} />\r\n                  Добави\r\n                </Button>\r\n              </ButtonGroup>\r\n            </div>\r\n          </div>\r\n\r\n          <Container>\r\n            <List component=\"nav\">\r\n              <ListItem\r\n                button\r\n                component={Link}\r\n                href={`tel:${userInfo.mobilePhone}`}\r\n              >\r\n                <ListItemIcon>\r\n                  <PhoneIcon color=\"primary\" />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={userInfo.mobilePhone}\r\n                  secondary=\"Телефон\"\r\n                />\r\n              </ListItem>\r\n              <Divider />\r\n\r\n              <ListItem\r\n                button\r\n                component={Link}\r\n                href={`mailto:${userInfo.email}?subject=Hello, ${userInfo.displayName}`}\r\n              >\r\n                <ListItemIcon>\r\n                  <EmailIcon color=\"primary\" />\r\n                </ListItemIcon>\r\n                <ListItemText primary={userInfo.email} secondary=\"Имейл\" />\r\n              </ListItem>\r\n              <Divider />\r\n\r\n              <ListItem\r\n                button\r\n                component={Link}\r\n                href={userInfo.facebook}\r\n                target=\"_blank\"\r\n              >\r\n                <ListItemIcon>\r\n                  <FacebookIcon color=\"primary\" />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  style={{ overflowWrap: \"break-word\" }}\r\n                  primary={userInfo.facebook}\r\n                  secondary=\"Фейсбук профил\"\r\n                />\r\n              </ListItem>\r\n            </List>\r\n          </Container>\r\n        </Paper>\r\n      </Fade>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  makeStyles,\r\n  createMuiTheme,\r\n  ThemeProvider\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport UserProfile from \"components/UserProfile/UserProfile\";\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: \"'Open Sans', sans-serif\"\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: \"#024db0\"\r\n    }\r\n  }\r\n});\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    marginTop: \"3em\",\r\n    marginBottom: \"2.5em\"\r\n  }\r\n}));\r\n\r\nconst UserVCard = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Container maxWidth=\"sm\" className={classes.root}>\r\n      <ThemeProvider theme={theme}>\r\n        <UserProfile />\r\n      </ThemeProvider>\r\n    </Container>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <UserVCard />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"index.css\";\r\nimport App from \"views/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}